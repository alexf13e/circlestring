<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="main.js"></script>
    <script src="StringChain.js"></script>
    <script src="StringBoard.js"></script>
    <script src="manualDraw.js"></script>
    <script src="UI.js"></script>
    <script src="Vec2.js"></script>
    <!-- <script src="autoDraw.js"></script> -->

    <link rel="stylesheet" href="style.css">

    <title>Circle String</title>
</head>
<body>
    <div id="dvMain">
        <div id="dvUILeftOuter">
            <p id="pLeftAlign">Previous Strings</p> <!--shame be upon me, but it was the easiest way to make it pad exactly the same as the other side-->
            <div id="dvUILeft">
                <p>Click a peg to start and finish a string.<br>
                    Draw the string around pegs to wrap around them, draw back in the opposite direction or press [z] to unwrap.<br>
                    Use [shift] to disable wrapping</p>
                <input id="inpStringColour" name="inpStringColour" type="color">
                <label for="inpStringColour">String colour</label>
                <div id="dvSettings">
                    <span>
                        <select id="slShiftMode" name="slShiftMode">
                            <option>Hold</option>
                            <option>Toggle</option>
                        </select>
                        <label for="slShiftMode">shift to enable/disable wrapping</label>
                    </span>
                    <span>
                        <input id="inpAutoEditWrap" name="inpAutoEditWrap" type="checkbox" checked>
                        <label for="inpAutoEditWrap">Auto-disable wrapping on edit start</label>
                    </span>
                    <span>
                        <input id="inpNumPegs" class="numberInput" name="inpNumPegs" type="number" min="2" max="512">
                        <label for="inpNumPegs">Number of pegs (requires clear)</label>
                    </span>
                    <div id="dvBoardVisualSettings">
                        <span>
                            <label for="inpCanvasResolution">Board resolution</label>
                            <input id="inpCanvasResolution" class="numberInput" name="inpCanvasResolution" type="number" min="256">
                            <label>px</label>
                        </span>
                        <span>
                            <label for="inpBoardPegRadius">Peg size</label>
                            <input id="inpBoardPegRadius" class="numberInput" name="inpBoardPegRadius" type="number" min="1" max="16">
                        </span>
                        <button id="btnApplyVisualSettings">Apply</button>
                    </div>
                    <span>
                        <input id="inpWarnOnPageLeave" name="inpWarnOnPageLeave" type="checkbox" checked>
                        <label for="inpWarnOnPageLeave">Warn of potential unsaved changes on page leave</label>
                    </span>
                    <span id="spSaveButtons">
                        <button id="btnSaveBoard">Save</button>
                        <button id="btnLoadBoard">Load</button>
                        <button id="btnRequestReset">Clear</button>
                    </span>
                </div>
                <br>
                <p id="pCredits"><a target="_blank" href="https://icons8.com/icon/86374/edit">Edit</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
                    <a target="_blank" href="https://icons8.com/icon/14367/waste">Bin</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></p>
            </div>
        </div>

        <canvas id="cnvMain"></canvas>

        <div id="dvUIRight">
            <p id="pPrevStringTitle">Previous Strings</p>
            <div id="dvStringChainList"></div>
        </div>

        <div id="dvPopupBackground">
            <div id="dvSavePopup" class="popup">
                <a id="aSaveAsFile" download="board.json">Save as file</a>
                <button id="btnCopyToClipboard">Copy to Clipboard</button>
                <button id="btnCloseSavePopup">Close</button>
            </div>
            <div id="dvLoadPopup" class="popup">
                <input id="inpLoadFile" type="file" accept=".txt,.json">
                <textarea id="taLoad" rows="10" placeholder="Browse file or paste board data here"></textarea>
                <span>
                    <button id="btnCloseLoadPopup">Cancel</button>
                    <button id="btnLoad">Load</button>
                </span>
            </div>
            <div id="dvConfirmResetPopup" class="popup">
                <p>All unsaved changes will be lost</p>
                <br>
                <span>
                    <button id="btnCloseResetPopup">Cancel</button>
                    <button id="btnResetBoard">Clear</button>
                </span>
            </div>
        </div>

        <!-- <canvas id="cnvHidden"></canvas> -->
    </div>
</body>
</html>